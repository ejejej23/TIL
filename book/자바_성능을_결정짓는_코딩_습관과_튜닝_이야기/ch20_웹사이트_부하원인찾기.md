# 웹사이트 부하원인 찾기

## DB가 병목인지 확인
- 모니터링 툴 사용
- DB Connection Pool 갯수 확인 : 스레드중 디비커넥션을 사용중인 스레드가 많으면 확인

cf) 트레이싱 기능
: 어떤 메소드에서 소요된 시간을 알려주는 툴. 대부분 상용툴이 지원하는 기능임. 
만약 DB관련 JDBC 패키지를 처리하기 위한 시간이었다면 전체중 DB관련부분이 몇초인지 알려준다. 요즘은 쿼리를 따로 추출해 어떤 쿼리가 수행되었는지 확인도 가능

트레이싱 기능의 핵심은 *필터링 기능*이다. 어떤 클래스의 응답속도를 측정할지, 어떤 패키지 밑에 있는 클래스들을 측정할지를 필터링해 정할 수 있다. 필터링을 *VO* 혹은 *Transfer Object* 라고 부른다

cf) Transfer Object 패턴 
: 일명 Value Object 패턴이라고 알려짐. 데이터를 전송하기 위한 객체에 대한 패턴이다

## 사용중인 스레드는 10개인데 사용중인 DB 커넥션 풀의 갯수는 20개인 경우
: 두가지 경우가 가능
1. 한 요청에서 스레드를 발생시켜 여러 로직을 수행하는 경우
2. 커넥션을 CLOSE하지 않은 경우.
