## 선택도
: 전체 레코드중에서 조건절에 의해 선택되는 레코드 비율

: 선택도 = 1/NDV
(NDV : Number of Distinct Values)

## 카디널리티
: 전체 레코드중에서 조건절에 의해 선택되는 레코드 갯수

: 카디널리티 = 총 로우수 * 선택도 = 총 로우수 / NDV

=> 옵티마이저는 카디널리티를 구하고 그만큼의 데이터를 액세스하는 데 드는 비용을 계산해 테이블 액세스 방식, 조인순서, 조인방식 등을 결정한다. 비용을 계산하는 출발점은 *선택도* 이다.

### 통계정보 구분
1. 오브젝트 통계
   1. 인덱스 통계
   2. 컬럼 통계
2. 시스템 통계

### 컬럼 히스토그램
: = 조건에 대한 선택도는 1/NUM_DISTINCT 공식이나 DENSITY 값을 이용하면 된다. 일반적인 컬럼의 경우 이 공식이 잘 맞지만 데이터 분포가 균일하지 않은 컬럼에는 잘 맞지 않는다. 그래서 옵티마이저는 일반적인 컬럼통계 외에 히스토그램을 추가로 활용한다.

### 히스토그램
: 값별로 데이터 비중 또는 빈도를 미리 계산해놓은 통계정보

### 비용기반 옵티마이저 모드
1. ALL_ROWS : 전체 처리속도 최적화
2. FIRST_ROWS : 최초 응답속도 최적화
3. FIRST_ROWS_N : 최초 N건 응답속도 최적화

## 옵티마이저에 영향을 미치는 요소
1. SQL과 연산자 형태
2. 인덱스, IOT, 클러스터, 파티션, MV등 옵티마이징 팩터
3. 제약설정
4. 통계정보
5. 옵티마이저 힌트
6. 옵티마이저 관련 파라미터

## 기본적으로 옵티마이저가 RDBMS를 관리. 이때 개발자의 역할
1. 필요한 최소 블록만 읽도록 쿼리를 작성
2. 최적의 옵티마이징 팩터 제공
3. 필요하다면 옵티마이저 힌트를 이용해 최적의 액세스 경로로 유도

## 대표적인 옵티마이징 팩터
1. 전략적인 인덱스 구성
2. DBMS가 제공하는 다양한 기능 활용
3. 옵티마이저 모드 설정
4. 정확하고 안정적인 통계정보